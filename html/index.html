<!doctype html>
<html class="no-js" lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Simple Table</title>
    <meta name="description" content="Simple Table">

    <!-- Use minimum-scale=1 to enable GPU rasterization -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, user-scalable=0, maximum-scale=1, minimum-scale=1"
    >
    <link rel="stylesheet" href="css/react-table.css">
    <style type="text/css">
        .tableConfig {
            --header-toolbar-height: 35;
            --header-column-height: 30;
            --row-height: 26;
            --rows-per-page: 10;
            --rows-size-list: 10, 20, 50;
        }
    </style>

  </head>

  <body>
    <!-- Input custom scripts before react component -->
      <script type="text/javascript">
          function dataProviderFunction(){
              let data = [{
                  "persons": [
                      {
                          "firstName": "wPavel",
                          "lastName": "Kulakovsky",
                          "age": 42
                      },
                      {
                          "firstName": "Oleksandr",
                          "lastName": "Gandzha",
                          "age": 30
                      },
                      {
                          "firstName": "Oleksij",
                          "lastName": "Zuev",
                          "age": 50
                      }
                  ]
              }];

              return data;
          }
      </script>
      <script type="text/javascript">
          function hookFunction(rowData){
              console.log('\'on row selected\' hook result', rowData);
          }
      </script>

      <script type="text/javascript">
          function fetchSelectedRows(id){
              console.log('fetchSelectedRows(id)', id)
              let selectedRows = jsonTableFunctions.fetchSelectedRows(id);

              console.log(selectedRows)
          }
        </script>

    <!-- React component -->
        <button onclick="jsonTableFunctions.refresh('1')">Click to refresh table</button>
        <button onclick="jsonTableFunctions.filterData('1', 'Pavel')">Click to filter data</button>
        <button onclick="fetchSelectedRows('1')">Click to fetch selected rows</button>

    <!-- Example:
        data-column-text-length="30"
        data-custom-fields="firstName=First Name, age=Age"
        data-provider-function="dataProviderFunction"
    -->
      <div class="json-table tableConfig"
             id="1"
             data-url="http://localhost:3001/sourceList"
             data-json-path="$..persons"
             data-column-text-length="20"
             data-show-checkboxes="true"
             data-hook-on-row-selected="hookFunction"
             data-provider-function=""
        ></div>
        <button onclick="jsonTableFunctions.refresh('2')">Click to refresh table</button>
        <button onclick="jsonTableFunctions.fetchSelectedRows('2')">Click to fetch selected rows</button>
      <div class="json-table tableConfig"
             id="2"
             data-url="http://localhost:3001/sourceList"
             data-json-path="$..students"
             data-custom-fields=""
             data-show-checkboxes="false"
             data-hook-on-row-selected="hookFunction"
             data-provider-function=""
        ></div>
        <button onclick="jsonTableFunctions.refresh('3')">Click to refresh table</button>
        <button onclick="jsonTableFunctions.fetchSelectedRows('3')">Click to fetch selected rows</button>
      <div class="json-table tableConfig"
             id="3"
             data-url="http://localhost:3001/sourceList"
             data-json-path="$..companies"
             data-custom-fields=""
             data-show-checkboxes="true"
             data-hook-on-row-selected="hookFunction"
             data-provider-function=""
        ></div>

        <script src="json-table.js"></script>
  </body>
</html>
